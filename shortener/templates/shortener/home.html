{% extends 'shortener/base.html' %}

{% block content %}
<style>
    .win98-input-frame {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-bottom: 15px;
    }

    .win98-input-label {
        font-size: 0.9rem;
        font-weight: bold;
    }

    .win98-input {
        width: 100%;
        height: 25px;
        background: white;
        border: 2px solid;
        border-color: #808080 #ffffff #ffffff #808080;
        font-family: "Tahoma", sans-serif;
        font-size: 0.8rem;
        padding: 0 5px;
        outline: none;
    }

    .win98-input:focus {
        background: #ffffe0;
    }

    .win98-submit-btn {
        background: #c0c0c0;
        border: 2px solid;
        border-color: #ffffff #808080 #808080 #ffffff;
        padding: 5px 20px;
        font-family: "Tahoma", sans-serif;
        font-size: 0.8rem;
        font-weight: bold;
        cursor: pointer;
        margin-top: 10px;
    }

    .win98-submit-btn:active {
        border-color: #808080 #ffffff #ffffff #808080;
    }

    .win98-result-box {
        margin-top: 15px;
        padding: 10px;
        background: white;
        border: 2px solid;
        border-color: #808080 #ffffff #ffffff #808080;
        text-align: center;
    }

    .win98-result-label {
        font-size: 0.8rem;
        color: #000;
        margin-bottom: 5px;
    }

    .win98-result-link {
        color: #0000ff;
        font-size: 0.9rem;
        word-break: break-all;
        text-decoration: underline;
    }

    .win98-result-link:hover {
        color: #ff0000;
    }

    .win98-qr-box {
        margin-top: 15px;
        padding: 15px;
        background: white;
        border: 2px solid;
        border-color: #808080 #ffffff #ffffff #808080;
        text-align: center;
    }

    .win98-qr-label {
        font-size: 0.8rem;
        font-weight: bold;
        margin-bottom: 10px;
        color: #000;
    }

    .win98-qr-image {
        border: 2px solid #808080;
        padding: 5px;
        background: white;
    }
</style>

<form method="POST">
    {% csrf_token %}
    <div class="win98-input-frame">
        <label class="win98-input-label">Enter URL:</label>
        <input type="url" name="original_url" class="win98-input" placeholder="https://www.example.com/very/long/url..."
            required>
    </div>
    <button type="submit" class="win98-submit-btn">
        Shorten URL
    </button>
</form>

{% if short_url and qr_code %}
<div class="win98-result-box">
    <p class="win98-result-label">âœ… Your shortened URL:</p>
    <a href="{{ short_url }}" target="_blank" class="win98-result-link">
        {{ short_url }}
    </a>
</div>

<div class="win98-qr-box">
    <p class="win98-qr-label">ðŸ“± Scan QR Code:</p>
    <img src="data:image/png;base64,{{ qr_code }}" alt="QR Code" class="win98-qr-image" width="150" height="150">
</div>
{% endif %}

{% endblock %}